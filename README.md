# å°è‚¡å›èª¿ç¸®é‡å¸ç±Œé¸è‚¡ç¨‹å¼ v4.0

åŸºæœ¬é¢ + æŠ€è¡“é¢ + ç±Œç¢¼é¢ å¤šç¶­åº¦ç¯©é¸ç­–ç•¥

## ç­–ç•¥æ¦‚è¿°

æœ¬ç¨‹å¼æ¡ç”¨ã€Œå›èª¿ç¸®é‡å¸ç±Œã€ç­–ç•¥ï¼Œç›®æ¨™æ˜¯æ‰¾å‡ºï¼š
- ğŸ“‰ **å›èª¿ä¸­**ï¼šå¾é«˜é»å›è½ 5-20%ï¼Œè·Œç ´çŸ­æœŸå‡ç·šä½†å®ˆä½é•·æœŸå‡ç·š
- ğŸ“Š **ç¸®é‡ä¸­**ï¼šé€£çºŒå¤šæ—¥æˆäº¤é‡èç¸®ï¼Œç±Œç¢¼æ²‰æ¾±
- ğŸ¦ **æ³•äººæ‚„æ‚„å»ºå€‰**ï¼šå¤–è³‡æˆ–æŠ•ä¿¡é€£çºŒè²·è¶…ï¼Œå¤§æˆ¶æŒè‚¡å¢åŠ 

## 10 æ­¥ç¯©é¸æµç¨‹

| æ­¥é©Ÿ | ç¯©é¸å™¨ | èªªæ˜ |
|------|--------|------|
| 1 | å¸‚å€¼ç¯©é¸ | >= 50 å„„ï¼Œæ’é™¤å°å‹è‚¡ |
| 2 | ç‡Ÿæ”¶æˆé•· | è¿‘ N æœˆç‡Ÿæ”¶æ­£æˆé•· |
| 3 | æœ¬ç›Šæ¯” | PE < 20ï¼Œåƒ¹å€¼è‚¡ç¯©é¸ |
| 4 | å›èª¿ç‹€æ…‹ | å¾é«˜é»å›è½ 5-20%ï¼Œè·Œç ´çŸ­å‡å®ˆä½é•·å‡ |
| 5 | é€£çºŒç¸®é‡ | é€£çºŒ N æ—¥æˆäº¤é‡éæ¸› |
| 6 | å‡ç·šæ”¯æ’ | å®ˆä½ MA20/MA60ï¼Œæ–œç‡å‘ä¸Š |
| 7 | RSI è¶…è³£ | RSI <= 35ï¼ŒæŠ€è¡“é¢è¶…è³£ |
| 8 | æ›æ‰‹ç‡ | 0.5% - 20%ï¼Œç¢ºä¿æµå‹•æ€§ |
| 9 | å¤§æˆ¶æŒè‚¡ | åƒå¼µå¤§æˆ¶æŒè‚¡ >= 30% ä¸”å¢åŠ ä¸­ |
| 10 | æ³•äººå¸ç±Œ | å¤–è³‡/æŠ•ä¿¡é€£çºŒè²·è¶… >= 3 å¤© |

## å®‰è£

```bash
# å»ºç«‹è™›æ“¬ç’°å¢ƒ
python -m venv venv
source venv/bin/activate

# å®‰è£ä¾è³´
pip install -r requirements.txt

# è¨­å®š FinMind API Token (å¯é¸)
export FINMIND_API_TOKEN="your_token"
```

## ä½¿ç”¨æ–¹å¼

### æ‰‹å‹•åŸ·è¡Œ

```bash
# å®Œæ•´ç¯©é¸ (å«å¤§ç›¤æª¢æŸ¥)
python -m src.main

# å¼·åˆ¶åŸ·è¡Œ (éäº¤æ˜“æ™‚é–“)
python -m src.main --force

# åƒ…åŸ·è¡Œæ³•äººè¿½è¹¤
python -m src.main --inst-only
```

### å®šæ™‚æ’ç¨‹

```bash
# å®‰è£æ’ç¨‹ (macOS launchd)
python scripts/setup_scheduler.py install

# æŸ¥çœ‹ç‹€æ…‹
python scripts/setup_scheduler.py status

# å¸è¼‰æ’ç¨‹
python scripts/setup_scheduler.py uninstall
```

æ’ç¨‹æ™‚é–“ï¼š
- **ç›¤ä¸­ç¯©é¸**ï¼šé€±ä¸€è‡³é€±äº” 13:00, 13:20
- **æ³•äººè¿½è¹¤**ï¼šé€±ä¸€è‡³é€±äº” 14:30

## åƒæ•¸è¨­å®š

åƒæ•¸è¨­å®šæª”ï¼š`config/settings.py`

```python
SCREENING_PARAMS = {
    # å¸‚å€¼ç¯©é¸
    "market_cap_min": 50,           # æœ€å°å¸‚å€¼ (å„„)

    # ç‡Ÿæ”¶æˆé•·
    "revenue_growth_min": 0,        # æœ€ä½ç‡Ÿæ”¶å¹´å¢ç‡ %
    "revenue_months_positive": 2,   # è¿‘ N æœˆéœ€æ­£æˆé•·

    # æœ¬ç›Šæ¯”
    "pe_ratio_min": 0,              # æœ€ä½æœ¬ç›Šæ¯”
    "pe_ratio_max": 20,             # æœ€é«˜æœ¬ç›Šæ¯”

    # å›èª¿ç‹€æ…‹
    "pullback_min_pct": 5.0,        # æœ€å°å›èª¿å¹…åº¦ %
    "pullback_max_pct": 20.0,       # æœ€å¤§å›èª¿å¹…åº¦ %

    # é€£çºŒç¸®é‡
    "volume_shrink_days": 3,        # é€£çºŒç¸®é‡å¤©æ•¸
    "volume_shrink_threshold": 0.7, # ç•¶å‰é‡/å‡é‡ æ¯”ä¾‹

    # RSI è¶…è³£
    "rsi_period": 14,               # RSI é€±æœŸ
    "rsi_oversold": 35,             # è¶…è³£é–€æª»

    # å¤§æˆ¶æŒè‚¡
    "major_holder_min_pct": 30,     # åƒå¼µå¤§æˆ¶æœ€ä½æŒè‚¡ %

    # æ³•äººå¸ç±Œ
    "accumulation_min_days": 3,     # é€£çºŒè²·è¶…å¤©æ•¸
}
```

## å°ˆæ¡ˆçµæ§‹

```
stock_screener/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ settings.py          # å…¨åŸŸè¨­å®šæª”
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.py              # ä¸»ç¨‹å¼å…¥å£
â”‚   â”œâ”€â”€ pipeline.py          # ç¯©é¸æµæ°´ç·š
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â””â”€â”€ fetcher.py       # è³‡æ–™ç²å–å™¨
â”‚   â””â”€â”€ screeners/
â”‚       â””â”€â”€ filters.py       # 10 å€‹ç¯©é¸å™¨
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ setup_scheduler.py   # æ’ç¨‹è¨­ç½®
â”œâ”€â”€ data/output/             # ç¯©é¸çµæœè¼¸å‡º
â””â”€â”€ logs/                    # æ—¥èªŒæª”æ¡ˆ
```

## è³‡æ–™ä¾†æº

- **å³æ™‚å ±åƒ¹**ï¼šTWSE/TPEx å®˜æ–¹ API
- **æ­·å²æ•¸æ“š**ï¼šFinMind API
- **æ³•äººç±Œç¢¼**ï¼šFinMind API (TaiwanStockInstitutionalInvestorsBuySell)
- **å¤§æˆ¶æŒè‚¡**ï¼šFinMind API (TaiwanStockHoldingSharesPer)
- **è²¡å‹™æ•¸æ“š**ï¼šFinMind API (TaiwanStockMonthRevenue, TaiwanStockFinancialStatements)

## ç‰ˆæœ¬æ­·å²

- **v4.0** - å¢å¼·ç‰ˆï¼šæ–°å¢ç‡Ÿæ”¶æˆé•·ã€æœ¬ç›Šæ¯”ã€RSIè¶…è³£ã€å¤§æˆ¶æŒè‚¡ç¯©é¸
- **v3.0** - å›èª¿ç¸®é‡å¸ç±Œç­–ç•¥
- **v2.0** - æ³•äººä½ˆå±€è¿½è¹¤
- **v1.0** - åŸºç¤å°¾ç›¤é¸è‚¡
